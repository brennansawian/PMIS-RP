<!DOCTYPE html>
<html lang="en"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layouts/resource-person-layout}">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <div layout:fragment="static-files">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    </div>
    <title>Non-Local TA Form - NERIE Shillong</title>
    <style>
        .form-wrapper {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
            position: relative;
        }
        
        .section-title {
            background-color: #f8f9fa;
            padding: 0.5rem 1rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid #198754;
            font-weight: bold;
        }
        
        .language-selector {
            position: absolute;
            top: 20px;
            right: 150px;
            background-color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            z-index: 10;
            text-align: end;
        }
        
        .table td, .table th {
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <main layout:fragment="content"> 
        <!-- FORM HERE  -->
        <div class="form-wrapper position-relative">
            <!-- Language Selector -->
            <div class="language-selector position-absolute top-0 end-0 mt-3 me-4">
                <input type="radio" id="english" name="language" value="english" checked />
                <label for="english" class="me-2">English</label>
                <input type="radio" id="hindi" name="language" value="hindi" />
                <label for="hindi">हिंदी</label>
            </div>
            
            <div class="form-wrapper">
                <div class="container bg-white shadow rounded p-4" style="max-width: 1100px;">
                    <h4 class="text-center en fw-bold text-dark">Travelling Allowance Bill
                         <div th:if="${!taform.islocal}">
                                <div class="section-title">For Non Local Participants</div>
                            </div>
                            <div th:if="${taform.islocal}">
                                <div class="section-title">For Local Participants</div>
                            </div>
                    </h4>
                    <h4 class="text-center hi fw-bold text-dark">यात्रा भत्ता बिल (बाहरी प्रतिभागियों हेतु)</h4>
                    
                    <form method="POST" disabled>
                        <!-- Programme Details -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label en">Programme/Workshop/Seminar Title:</label>
                                <label class="form-label hi">कार्यक्रम/कार्यगोष्ठी/संगोष्ठी का नाम:</label>
                                <input type="text"  class="form-control" th:value="${taform.phase.programcode.programname}" readonly />
                            </div>
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label en">Venue:</label> 
                                <label class="form-label hi">स्थान:</label>
                                <input type="text"  class="form-control" th:value="${taform.venue}" readonly/>
                            </div>
                            <div class="col">
                                <label class="form-label en">Dates: From</label>
                                <label class="form-label hi">दिनांक: से</label>
                                <input type="date" class="form-control" th:value="${taform.fromdate}" readonly/>
                            </div>
                            <div class="col">
                                <label class="form-label en">To</label>
                                <label class="form-label hi">तक</label>
                                <input type="date" class="form-control" th:value="${taform.todate}" readonly/>
                            </div>
                            
                            
                            <div class="mb-3">
                                <label class="form-label en">Name (as per Bank records in CAPITAL):</label>
                                <label class="form-label hi">नाम (बैंक रिकॉर्ड अनुसार):</label>
                                <!-- th:field="*{namerecord}" -->
                                <input type="text" name="namerecord" class="form-control" th:value="${taform.namerecord}" readonly> 
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col">
                                    <label class="form-label en">Designation:</label>
                                    <label class="form-label hi">पदनाम:</label>
                                    <!-- th:field="*{designation}" -->
                                    <input type="text" name="designation" class="form-control" th:value="${taform.designation}" readonly >
                                </div>
                                <div class="col">
                                    <label class="form-label en">Basic Pay / Pay Level:</label>
                                    <label class="form-label hi">मूल वेतन:</label>
                                    <!-- th:field="*{basicpay}" -->
                                    <input type="number" name="basicpay" class="form-control" th:value="${taform.basicpay}" readonly>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label en">Official Address:</label>
                                <label class="form-label hi">कार्यालय का पता:</label>
                                <!-- th:field="*{address}" -->
                                <input type="text" name="address" class="form-control" th:value="${taform.address}" readonly >
                                
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col">
                                    <label>City:</label>
                                    <!-- th:field="*{city}" -->
                                    <input type="text" class="form-control" name="city" th:value="${taform.city}" readonly >
                                </div>
                                <div class="col">
                                    <label>Pin Code:</label>
                                    <!-- th:field="*{pincode}" -->
                                    <input type="text" class="form-control" name="pincode" th:value="${taform.pincode}" readonly>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label en">Residential Address:</label>
                                <label class="form-label hi">आवासीय पता:</label>
                                <!-- th:field="*{resaddress}" -->
                                <input type="text" class="form-control" name="resaddress" th:value="${taform.resaddress}" readonly>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col">
                                    <label>City:</label>
                                    <!-- th:field="*{rcity}" -->
                                    <input type="text" class="form-control" name="rcity" th:value="${taform.rcity}" readonly>
                                </div>
                                <div class="col">
                                    <label>Pin Code:</label>
                                    <!-- th:field="*{rpincode}" -->
                                    <input type="text" class="form-control" name="rpincode" th:value="${taform.rpincode}" readonly>
                                </div>
                            </div>
                            
                            <div class="section-title">
                                <span class="en">Bank Details</span>
                                <span class="hi">बैंक विवरण</span>
                            </div>
                            
                            <div class="row mb-3">
                                <!-- th:field="*{accountnumber}" -->
                                <div class="col-md-6">
                                    <label>Account No.:</label><input type="text" class="form-control" name="accountnumber" th:value="${taform.accountnumber}" readonly>
                                </div>
                                <!-- th:field="*{bankname}" -->
                                <div class="col-md-6"><label>Bank:</label><input type="text" class="form-control" name="bankname" th:value="${taform.bankname}" readonly></div>
                            </div>
                            <div class="row mb-3">
                                <!-- th:field="*{branch}" -->
                                <div class="col-md-6"><label>Branch:</label><input type="text" class="form-control" name="branch" th:value="${taform.branch}" readonly></div>
                                <!-- th:field="*{ifsc}" -->
                                <div class="col-md-6"><label>IFSC Code:</label><input type="text" class="form-control" name="ifsc" th:value="${taform.ifsc}" readonly></div>
                            </div>
                            <!-- th:field="*{pancardnumber}" -->
                            <div class="mb-3"><label>PAN Card No.:</label><input type="text" class="form-control" name="pancardnumber" th:value="${taform.pancardnumber}" readonly></div>
                            
                            <!-- Part 1: Rail/Air/Bus Allowance -->
                            <div th:if="${!taform.islocal}">
                                <div class="section-title">Part 1: Rail / Air / Bus Allowance</div>
                                <table class="table table-bordered mb-3" id="conveyanceTable">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Date of Departure</th>
                                            <th>Place of Departure</th>
                                            <th>Time of Departure</th>
                                            <th>Date of Arrival</th>
                                            <th>Place of Arrival</th>
                                            <th>Time of Arrival</th>
                                            <th>Mode of Conveyance</th>
                                            <th>Details (Class of accommodation & Ticket No./ PNR No.)</th>
                                            <th>Amount (₹)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tableBody">
                                        <tr th:each="cc : ${ccs}" th:if="${cc.nonlocalpartno == '1'}">
                                            <td th:text="${cc.dateofdeparture}">01-01-2025</td>
                                            <td th:text="${cc.placeofdeparture}">sadsa</td>
                                            <td th:text="${cc.timeofdeparture}">sad</td>
                                            <td th:text="${cc.dateofarrival}">02-01-2025</td>
                                            <td th:text="${cc.placeofarrival}">Agra</td>
                                            <td th:text="${cc.timeofarrival}">06:00 PM</td>
                                            <td th:text="${cc.modeofconveyance}">Train</td>
                                            <td th:text="${cc.detailsoftravel}">Second Class</td>
                                            <td th:text="${cc.amount}">450</td>
                                        </tr>
                                        <tr class="fw-bold table-light">
                                            <td colspan="8" class="text-end">Total:</td>
                                            <td th:text="${totalAmountpart1}"></td>
                                        </tr>
                                        
                                        <!-- Message if there are no records -->
                                        <tr th:if="${#lists.isEmpty(ccs)}">
                                            <td colspan="9" class="text-center text-muted">No conveyance records found.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            
                            <!-- Part 2: Road Mileage -->
                            <div th:if="${!taform.islocal}">
                                <div class="section-title">Part 2: Road Mileage Allowance</div>
                            </div>
                            <div th:if="${taform.islocal}">
                                <div class="section-title">Conveyance Charges</div>
                            </div>
                            <table class="table table-bordered mb-3" id="conveyanceTable">
                                <thead class="table-light">
                                    <tr>
                                        <th>Date</th>
                                        <th>Place of Departure</th>
                                        <th>Place of Arrival</th>
                                        <th>Kms</th>
                                        <th>Mode of Conveyance</th>
                                        <th>Amount (₹)</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody">
                                    <tr th:each="cc : ${ccs}" th:if="${cc.nonlocalpartno == '2' || cc.nonlocalpartno == null}">
                                        <td th:text="${cc.date}">01-01-2025</td>
                                        <td th:text="${cc.placeofdeparture}">sadsa</td>
                                        <td th:text="${cc.placeofarrival}">Agra</td>
                                        <td th:text="${cc.kms}">06:00 PM</td>
                                        <td th:text="${cc.modeofconveyance}">Train</td>
                                        <td th:text="${cc.amount}">450</td>
                                    </tr>
                                    <tr class="fw-bold table-light">
                                        <td colspan="5" class="text-end">Total:</td>
                                        <td th:text="${totalAmountpart2}"></td>
                                    </tr>
                                    
                                    <!-- Message if there are no records -->
                                    <tr th:if="${#lists.isEmpty(ccs)}">
                                        <td colspan="9" class="text-center text-muted">No conveyance records found.</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <!-- Part 3: Daily Allowance -->
                           <div th:if="${!taform.islocal}">
                                <div class="section-title">Part 3: Daily Allowance</div>
                                <div class="row mb-3" th:each="cc : ${ccs}" th:if="${cc.nonlocalpartno == '3'}">
                                    <div class="col-md-4">
                                        <label>Number of Days:</label>
                                        <input type="text" name="part3noofdays" class="form-control" th:value="${cc.detailsoftravel}" readonly>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Rate per Day (Rs.):</label>
                                        <input type="number" name="part3amount" class="form-control" th:value="${cc.amount}" readonly> 
                                    </div>
                                    <div class="col-md-4">
                                        <label>Total (Rs.):</label>
                                        <input type="text" name="" class="form-control" th:value="${totalAmountpart3}" readonly>
                                    </div>
                                </div>
                            </div>
                            
                        </form>
                    </div>
                </div>
                
                <script nonce="${cspNonce}">
                    function changeLanguage() {
                        const language = document.querySelector('input[name="language"]:checked').value;
                        document.querySelectorAll('.en').forEach(el => el.style.display = language === 'hindi' ? 'none' : 'block');
                        document.querySelectorAll('.hi').forEach(el => el.style.display = language === 'hindi' ? 'block' : 'none');
                    }
                    
                    document.addEventListener('DOMContentLoaded', function () {
                        document.getElementById("english").addEventListener("change", changeLanguage);
                        document.getElementById("hindi").addEventListener("change", changeLanguage);
                        changeLanguage();
                    });
                </script>
            </div>
        </main>
    </body>
    </html>
    